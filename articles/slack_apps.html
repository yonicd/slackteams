<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slack Apps • slackteams</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Slack Apps">
<meta property="og:description" content="slackteams">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">slackteams</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/yonicd/slackteams" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/yoniceedee" class="external-link">
    <span class="fa fa-lg fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Slack Apps</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/yonicd/slackteams/blob/HEAD/vignettes/slack_apps.Rmd" class="external-link"><code>vignettes/slack_apps.Rmd</code></a></small>
      <div class="hidden name"><code>slack_apps.Rmd</code></div>

    </div>

    
    
<p>To connect to a Slack workspace using <code><a href="../reference/add_team_interactive.html">add_team_interactive()</a></code> or <code><a href="../reference/add_team_code.html">add_team_code()</a></code>, you need a Slack App. The Slack App must be installed on the Slack workspace. There are two options for this Slack App:</p>
<ol style="list-style-type: decimal">
<li><a href="#builtin">The built-in Slack App for this package, <code>slackteams</code>.</a></li>
<li><a href="#custom">Your own custom Slack App.</a></li>
</ol>
<p>Below we detail how and why you might want to utilize each option.</p>
<div class="section level2">
<h2 id="builtin">Built-in <code>slackteams</code> App<a class="anchor" aria-label="anchor" href="#builtin"></a>
</h2>
<p>By default, <code><a href="../reference/add_team_interactive.html">add_team_interactive()</a></code> uses the built-in app. When you call that function, if the <code>slackteams</code> App is not already installed on your workspace, Slack will prompt you to install it, or to ask your workspace administrator to do so.</p>
<p>Note that you may wish to carefully refine the <code>scopes</code> requested by the App to minimize what the App can do. It may be valuable to explore the <a href="https://api.slack.com/methods" class="external-link">Slack API methods</a> that you wish to use and/or the documentation of the <a href="https://github.com/yonicd/slackcalls" class="external-link">{slackverse}</a> functions you plan to use to determine a subset of scopes to request. While the App only has access to information that you have permission to view (as the user who authorized it), your workspace administrator will likely appreciate it if you minimize the things the App is approved to do. If you need more scopes in the future, the App will have to be approved again.</p>
<p>The App requires these scopes, at a minimum (requested by default): <code>"users:read", "channels:read", "groups:read", "im:read",</code> and <code>"mpim:read"</code>. To request additional scopes, use <code>add_team_interactive(scopes = c(&lt;your-scopes&gt;))</code>. A useful set is available via <code>add_team_interactive(scopes = load_scopes(which = "slackverse"))</code>.</p>
</div>
<div class="section level2">
<h2 id="custom">Your own custom Slack App<a class="anchor" aria-label="anchor" href="#custom"></a>
</h2>
<p>For some purposes, you may wish to create your own Slack App.</p>
<ol style="list-style-type: decimal">
<li>If you wish to use <a href="https://github.com/yonicd/slackteams" class="external-link">slackteams</a> for authentication on a website, you will need to configure custom <code>Redirect URLs</code>.</li>
<li>Your workspace administrator may wish to use a private App for security. While you need to authenticate yourself to use the App, it might be more convenient to have full control over the App distribution.</li>
</ol>
<p>The Slack App creation process is relatively straightforward, but it can be daunting the first time you do so. Here we will walk through the necessary steps.</p>
<div class="section level3">
<h3 id="create-the-app">Create the App<a class="anchor" aria-label="anchor" href="#create-the-app"></a>
</h3>
<p>To create the Slack App, visit the <a href="https://api.slack.com/apps" class="external-link">Slack API App Page</a>. Choose “Create New App”. The easiest way to create an app is to use the “From an app manifest” option. We can help you build this manifest.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_custom_app.html">create_custom_app</a></span><span class="op">(</span>
  app_name <span class="op">=</span> <span class="st">"myCoolApp"</span>,
  redirect_urls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
    <span class="st">"http://127.0.0.1:4242"</span>,
    <span class="st">"https://myaccount.shinyapps.io"</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; Visit https://api.slack.com/apps &amp; Create New App</span>
<span class="co">#&gt; Copy/paste this manifest:</span>
<span class="co">#&gt; Warning in custom_app_yaml(this_app): Slack may flag your manifest with the error 'Must provide an array.'</span>
<span class="co">#&gt; If that is still occurring, move the value after : to a new line,</span>
<span class="co">#&gt; indented to the level of the setting, and then add '-'.</span>
<span class="co">#&gt; _metadata:</span>
<span class="co">#&gt;   major_version: 1</span>
<span class="co">#&gt;   minor_version: 0</span>
<span class="co">#&gt; display_information:</span>
<span class="co">#&gt;   name: myCoolApp</span>
<span class="co">#&gt;   long_description: This app is used by the [{slackteams} R package](https://github.com/yonicd/slackteams)</span>
<span class="co">#&gt;     to connect R to Slack workspaces. Use the app to authenticate yourself and generate</span>
<span class="co">#&gt;     a token, which allows you to interact with the Slack API. See the {slackteams}</span>
<span class="co">#&gt;     documentation for more information.</span>
<span class="co">#&gt;   description: A custom app for use with the {slackteams} R package.</span>
<span class="co">#&gt;   background_color: '#000000'</span>
<span class="co">#&gt; settings:</span>
<span class="co">#&gt;   org_deploy_enabled: false</span>
<span class="co">#&gt;   socket_mode_enabled: false</span>
<span class="co">#&gt;   token_rotation_enabled: false</span>
<span class="co">#&gt; oauth_config:</span>
<span class="co">#&gt;   redirect_urls:</span>
<span class="co">#&gt;     - http://127.0.0.1:4242</span>
<span class="co">#&gt;     - https://myaccount.shinyapps.io</span>
<span class="co">#&gt;   scopes:</span>
<span class="co">#&gt;     user:</span>
<span class="co">#&gt;       - team:read</span>
<span class="co">#&gt;       - channels:read</span></code></pre></div>
<p>In addition to printing the manifest to the console, <code><a href="../reference/create_custom_app.html">create_custom_app()</a></code> invisibly returns the app manifest as an R object. If you would like, you can further edit this manifest, and then print it using <code><a href="../reference/custom_app_yaml.html">custom_app_yaml()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_app</span><span class="op">$</span><span class="va">`_metadata`</span><span class="op">$</span><span class="va">minor_version</span> <span class="op">&lt;-</span> <span class="fl">1L</span>
<span class="fu"><a href="../reference/custom_app_yaml.html">custom_app_yaml</a></span><span class="op">(</span><span class="va">my_app</span><span class="op">)</span>
<span class="co">#&gt; Warning in custom_app_yaml(my_app): Slack may flag your manifest with the error 'Must provide an array.'</span>
<span class="co">#&gt; If that is still occurring, move the value after : to a new line,</span>
<span class="co">#&gt; indented to the level of the setting, and then add '-'.</span>
<span class="co">#&gt; _metadata:</span>
<span class="co">#&gt;   major_version: 1</span>
<span class="co">#&gt;   minor_version: 1</span>
<span class="co">#&gt; display_information:</span>
<span class="co">#&gt;   name: myCoolApp</span>
<span class="co">#&gt;   long_description: This app is used by the [{slackteams} R package](https://github.com/yonicd/slackteams)</span>
<span class="co">#&gt;     to connect R to Slack workspaces. Use the app to authenticate yourself and generate</span>
<span class="co">#&gt;     a token, which allows you to interact with the Slack API. See the {slackteams}</span>
<span class="co">#&gt;     documentation for more information.</span>
<span class="co">#&gt;   description: A custom app for use with the {slackteams} R package.</span>
<span class="co">#&gt;   background_color: '#000000'</span>
<span class="co">#&gt; settings:</span>
<span class="co">#&gt;   org_deploy_enabled: false</span>
<span class="co">#&gt;   socket_mode_enabled: false</span>
<span class="co">#&gt;   token_rotation_enabled: false</span>
<span class="co">#&gt; oauth_config:</span>
<span class="co">#&gt;   redirect_urls:</span>
<span class="co">#&gt;     - http://127.0.0.1:4242</span>
<span class="co">#&gt;     - https://myaccount.shinyapps.io</span>
<span class="co">#&gt;   scopes:</span>
<span class="co">#&gt;     user:</span>
<span class="co">#&gt;       - team:read</span>
<span class="co">#&gt;       - channels:read</span></code></pre></div>
<p>Copy and paste that manifest into the “Enter app manifest below” step (step 2 of 3) of the app creation dialog (on the <code>YAML</code> tab).</p>
<p>Follow the dialogs to install it onto your workspace, and then copy the <code>Client ID</code> and <code>Client Secret</code>.</p>
</div>
<div class="section level3">
<h3 id="use-the-app">Use the App<a class="anchor" aria-label="anchor" href="#use-the-app"></a>
</h3>
<p>Functions in <a href="https://github.com/yonicd/slackteams" class="external-link">slackteams</a> that use a Slack App (<code><a href="../reference/add_team_interactive.html">add_team_interactive()</a></code>, <code><a href="../reference/add_team_code.html">add_team_code()</a></code>, and <code><a href="../reference/auth_url.html">auth_url()</a></code>) consult two environment variables to decide which Slack App to use: <code>SLACK_CLIENT_ID</code> and <code>SLACK_CLIENT_SECRET</code>. If these variable are set, the functions will use the specified Slack App. Otherwise, the functions use the built-in Slack App.</p>
<p>We recommend setting these variables in your <code>.Renviron</code> file.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jonathan Sidi, Jon Harmon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
